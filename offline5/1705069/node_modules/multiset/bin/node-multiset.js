/*! MultiSet - v1.1.0 - 2013-08-20
 * Author: Alberto La Rocca <alberto.larocca@canvace.com> (https://github.com/71104)
 * Released under the MIT license
 * Copyright (c) 2013 Canvace Srl */
function MultiSet(){"use strict";this.elements={},this.nextId=0,this.count=0,this.resetCount=0,this.fastAdd.apply(this,arguments)}MultiSet.prototype.add=function(a){"use strict";var b=this.nextId++;this.elements[b]=a,this.count++;var c=this.resetCount;return function(){return c<this.resetCount?!1:this.elements.hasOwnProperty(b)?(delete this.elements[b],this.count--,!0):!1}.bind(this)},MultiSet.prototype.fastAdd=function(){"use strict";for(var a=0;a<arguments.length;a++)this.elements[this.nextId++]=arguments[a];this.count+=arguments.length},MultiSet.prototype.forEach=function(a){"use strict";for(var b in this.elements)if(this.elements.hasOwnProperty(b)&&a(this.elements[b],function(a){var b=this.resetCount;return function(){return b<this.resetCount?!1:this.elements.hasOwnProperty(a)?(delete this.elements[a],this.count--,!0):!1}.bind(this)}.call(this,b))===!1)return!0;return!1},MultiSet.prototype.fastForEach=function(a){"use strict";for(var b in this.elements)this.elements.hasOwnProperty(b)&&a(this.elements[b])},MultiSet.prototype.count=function(){"use strict";return this.count},MultiSet.prototype.isEmpty=function(){"use strict";return!this.count},MultiSet.prototype.clear=function(){"use strict";this.elements={},this.count=0,this.resetCount++},module.exports=MultiSet;